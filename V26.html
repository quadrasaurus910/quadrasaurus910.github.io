<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fce4ec;
            background-image: url('/v26bg.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* --- LAYER 1: ORBITAL HEARTS (Background) --- */
        #heart-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; 
            pointer-events: none;
        }

        .falling-heart {
            position: absolute;
            will-change: transform;
            -webkit-mask-size: contain;
            mask-size: contain;
            -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
            -webkit-mask-position: center;
            mask-position: center;
        }

        /* --- LAYER 2: TEXT ANIMATION (Left Aligned) --- */
        #text-container {
            position: absolute;
            top: 38%; /* Adjust vertical placement */
            left: 10%; /* Closer to the left side */
            transform: translateY(-50%);
            z-index: 10;
            display: flex;
            flex-direction: column; /* Stacks words vertically */
            align-items: flex-start; /* Aligns starts of words */
        }

        .word-line {
            font-size: 6.5rem; /* Big text */
            font-weight: 800;
            margin: 15px 0px 15px 0px;
            color: #bd3c40; /*#880e4f;/*
            line-height: 1.1;
            white-space: nowrap; /* Keeps word on one line */
            position: relative;
            opacity: 0; /* START HIDDEN */
        }

        /* The individual letter style */
        .letter {
            display: inline-block;
            opacity: 0; /* Invisible start */
            transform: translateY(40px);
        }

        /* The "Pop, Float, Settle" Animation */
        @keyframes popUpFloat {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.5);
            }
            60% {
                opacity: 1;
                transform: translateY(-15px) scale(1.1); /* The overshoot */
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1); /* Settle */
            }
        }

        /* --- LAYER 3: HANDWRITING (Overlaying "Day") --- */
        #handwriting-layer {
            position: absolute;
            z-index: 20;
            /* Positioning strategy: 
               We put it inside the container via absolute position
               so it sits right on top of the last word.
            */
            top: 82%; /* MOVED UP (was 85%) */
            left: -22px; /* Slight offset to cover the word */
            pointer-events: none;
        }

    </style>
</head>
<body>

    <div id="heart-layer"></div>

    <div id="text-container">
        <div id="line1" class="word-line">Happy</div>
        <div id="line2" class="word-line">Valentine's</div>
        <div id="line3" class="word-line">Day</div>

        <div id="handwriting-layer">
            <div id="signature-container" style="display: inline-block;">
                <canvas id="hw_459i6" width="745" height="269" style="display: block; width: 745px; height: 269px;"></canvas>
            </div>
        </div>
    </div>

    <script>
        /* ============================================================
           â¤ï¸ CONFIGURATION
           ============================================================ */
        const config = {
            // Updated Colors
            colors: ['#e91e63', '#9c27b0', '#f44336', '#ff4081', '#ff5252', '#d500f9', '#c2185b'],
            colors2: ['#fff5c8', '#f9fee0', '#d0ecd5', '#c7528e', '#df879f', '#f19670', '#eebdb7', '#bd3c40', '#2895a4'],
            totalImages: 9, 
            slant: 200, speedMin: 3, speedMax: 8,
            sizeMin: 20, sizeMax: 60,
            opacityMin: 0.3, opacityMax: 0.9,
            wobbleSpeed: 2, wobbleAmp: 30,
            spinSpeedMin: 0.5, spinSpeedMax: 3,
            spawnFast: 50, spawnSlow: 1200, clusterChance: 0.6
        };
        /* ============================================================
           ðŸŽ¬ MASTER DIRECTOR (TIMELINE)
           ============================================================ */
        document.addEventListener("DOMContentLoaded", () => {
            
            // 1. Start Hearts
            startHeartRain();

            // 2. Start Text Animation (Wait 3s)
            setTimeout(() => {
                animateText();
            }, 3000);

            // 3. Start Handwriting 
            // We calculate this based on when "Day" finishes.
            // Text animation takes roughly 2.5 seconds total with staggers.
            // So we start handwriting at 3s (initial delay) + 2.5s (anim) = 5.5s
            // Adjusted slightly for overlap
            setTimeout(() => {
                if (window.playHandwriting) {
                    window.playHandwriting();
                }
            }, 4000); 
        });
        

    // DEFINE THE ANIMATION
    window.playHandwriting = function() {
        const c = document.getElementById('hw_459i6');
        if(!c) return;
        const ctx = c.getContext('2d');
        const moves = [{"x":15,"y":63,"drag":0,"c":"#000000","w":"5"},{"x":22,"y":65,"drag":1,"c":"#000000","w":"5"},{"x":27,"y":65,"drag":1,"c":"#000000","w":"5"},{"x":28,"y":65,"drag":1,"c":"#000000","w":"5"},{"x":31,"y":65,"drag":1,"c":"#000000","w":"5"},{"x":35,"y":63,"drag":1,"c":"#000000","w":"5"},{"x":39,"y":60,"drag":1,"c":"#000000","w":"5"},{"x":43,"y":55,"drag":1,"c":"#000000","w":"5"},{"x":45,"y":51,"drag":1,"c":"#000000","w":"5"},{"x":47,"y":46,"drag":1,"c":"#000000","w":"5"},{"x":49,"y":41,"drag":1,"c":"#000000","w":"5"},{"x":51,"y":35,"drag":1,"c":"#000000","w":"5"},{"x":53,"y":29,"drag":1,"c":"#000000","w":"5"},{"x":55,"y":25,"drag":1,"c":"#000000","w":"5"},{"x":56,"y":22,"drag":1,"c":"#000000","w":"5"},{"x":57,"y":21,"drag":1,"c":"#000000","w":"5"},{"x":57,"y":25,"drag":1,"c":"#000000","w":"5"},{"x":57,"y":32,"drag":1,"c":"#000000","w":"5"},{"x":57,"y":40,"drag":1,"c":"#000000","w":"5"},{"x":57,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":59,"y":66,"drag":1,"c":"#000000","w":"5"},{"x":61,"y":83,"drag":1,"c":"#000000","w":"5"},{"x":63,"y":100,"drag":1,"c":"#000000","w":"5"},{"x":65,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":68,"y":134,"drag":1,"c":"#000000","w":"5"},{"x":71,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":74,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":77,"y":183,"drag":1,"c":"#000000","w":"5"},{"x":80,"y":196,"drag":1,"c":"#000000","w":"5"},{"x":82,"y":207,"drag":1,"c":"#000000","w":"5"},{"x":83,"y":213,"drag":1,"c":"#000000","w":"5"},{"x":83,"y":217,"drag":1,"c":"#000000","w":"5"},{"x":82,"y":217,"drag":1,"c":"#000000","w":"5"},{"x":80,"y":212,"drag":1,"c":"#000000","w":"5"},{"x":77,"y":205,"drag":1,"c":"#000000","w":"5"},{"x":73,"y":195,"drag":1,"c":"#000000","w":"5"},{"x":70,"y":184,"drag":1,"c":"#000000","w":"5"},{"x":65,"y":171,"drag":1,"c":"#000000","w":"5"},{"x":61,"y":156,"drag":1,"c":"#000000","w":"5"},{"x":55,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":49,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":44,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":41,"y":89,"drag":1,"c":"#000000","w":"5"},{"x":40,"y":73,"drag":1,"c":"#000000","w":"5"},{"x":40,"y":59,"drag":1,"c":"#000000","w":"5"},{"x":42,"y":47,"drag":1,"c":"#000000","w":"5"},{"x":47,"y":37,"drag":1,"c":"#000000","w":"5"},{"x":55,"y":28,"drag":1,"c":"#000000","w":"5"},{"x":62,"y":23,"drag":1,"c":"#000000","w":"5"},{"x":69,"y":19,"drag":1,"c":"#000000","w":"5"},{"x":76,"y":16,"drag":1,"c":"#000000","w":"5"},{"x":83,"y":15,"drag":1,"c":"#000000","w":"5"},{"x":88,"y":15,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":18,"drag":1,"c":"#000000","w":"5"},{"x":95,"y":25,"drag":1,"c":"#000000","w":"5"},{"x":98,"y":36,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":49,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":63,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":80,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":96,"drag":1,"c":"#000000","w":"5"},{"x":98,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":96,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":131,"drag":1,"c":"#000000","w":"5"},{"x":88,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":83,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":78,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":75,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":74,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":73,"y":135,"drag":1,"c":"#000000","w":"5"},{"x":73,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":76,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":80,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":85,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":111,"drag":1,"c":"#000000","w":"5"},{"x":101,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":110,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":120,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":131,"y":109,"drag":1,"c":"#000000","w":"5"},{"x":141,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":150,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":159,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":164,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":168,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":170,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":170,"y":163,"drag":1,"c":"#000000","w":"5"},{"x":167,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":161,"y":181,"drag":1,"c":"#000000","w":"5"},{"x":153,"y":189,"drag":1,"c":"#000000","w":"5"},{"x":143,"y":194,"drag":1,"c":"#000000","w":"5"},{"x":132,"y":199,"drag":1,"c":"#000000","w":"5"},{"x":121,"y":201,"drag":1,"c":"#000000","w":"5"},{"x":110,"y":201,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":201,"drag":1,"c":"#000000","w":"5"},{"x":90,"y":198,"drag":1,"c":"#000000","w":"5"},{"x":81,"y":194,"drag":1,"c":"#000000","w":"5"},{"x":72,"y":190,"drag":1,"c":"#000000","w":"5"},{"x":64,"y":187,"drag":1,"c":"#000000","w":"5"},{"x":58,"y":184,"drag":1,"c":"#000000","w":"5"},{"x":54,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":53,"y":177,"drag":1,"c":"#000000","w":"5"},{"x":53,"y":175,"drag":1,"c":"#000000","w":"5"},{"x":55,"y":173,"drag":1,"c":"#000000","w":"5"},{"x":59,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":64,"y":170,"drag":1,"c":"#000000","w":"5"},{"x":69,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":74,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":80,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":86,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":91,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":96,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":176,"drag":1,"c":"#000000","w":"5"},{"x":104,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":108,"y":183,"drag":1,"c":"#000000","w":"5"},{"x":114,"y":186,"drag":1,"c":"#000000","w":"5"},{"x":120,"y":187,"drag":1,"c":"#000000","w":"5"},{"x":128,"y":188,"drag":1,"c":"#000000","w":"5"},{"x":135,"y":188,"drag":1,"c":"#000000","w":"5"},{"x":143,"y":187,"drag":1,"c":"#000000","w":"5"},{"x":150,"y":184,"drag":1,"c":"#000000","w":"5"},{"x":157,"y":179,"drag":1,"c":"#000000","w":"5"},{"x":164,"y":173,"drag":1,"c":"#000000","w":"5"},{"x":170,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":175,"y":161,"drag":1,"c":"#000000","w":"5"},{"x":179,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":181,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":182,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":183,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":183,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":182,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":180,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":177,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":174,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":171,"y":125,"drag":1,"c":"#000000","w":"5"},{"x":168,"y":123,"drag":1,"c":"#000000","w":"5"},{"x":167,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":165,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":166,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":169,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":173,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":178,"y":121,"drag":1,"c":"#000000","w":"5"},{"x":183,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":189,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":195,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":200,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":204,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":206,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":207,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":206,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":203,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":200,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":198,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":197,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":196,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":195,"y":121,"drag":1,"c":"#000000","w":"5"},{"x":194,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":194,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":194,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":196,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":198,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":200,"y":146,"drag":1,"c":"#000000","w":"5"},{"x":203,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":206,"y":157,"drag":1,"c":"#000000","w":"5"},{"x":210,"y":161,"drag":1,"c":"#000000","w":"5"},{"x":214,"y":165,"drag":1,"c":"#000000","w":"5"},{"x":219,"y":166,"drag":1,"c":"#000000","w":"5"},{"x":223,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":228,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":231,"y":166,"drag":1,"c":"#000000","w":"5"},{"x":235,"y":162,"drag":1,"c":"#000000","w":"5"},{"x":238,"y":158,"drag":1,"c":"#000000","w":"5"},{"x":241,"y":153,"drag":1,"c":"#000000","w":"5"},{"x":243,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":245,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":135,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":248,"y":156,"drag":1,"c":"#000000","w":"5"},{"x":251,"y":161,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":165,"drag":1,"c":"#000000","w":"5"},{"x":261,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":268,"y":170,"drag":1,"c":"#000000","w":"5"},{"x":275,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":281,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":287,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":293,"y":171,"drag":1,"c":"#000000","w":"5"},{"x":298,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":302,"y":162,"drag":1,"c":"#000000","w":"5"},{"x":305,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":309,"y":148,"drag":1,"c":"#000000","w":"5"},{"x":311,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":314,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":316,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":319,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":98,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":92,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":87,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":83,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":80,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":79,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":82,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":87,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":91,"drag":1,"c":"#000000","w":"5"},{"x":319,"y":97,"drag":1,"c":"#000000","w":"5"},{"x":318,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":113,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":121,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":317,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":323,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":326,"y":158,"drag":1,"c":"#000000","w":"5"},{"x":331,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":337,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":342,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":348,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":353,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":360,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":364,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":368,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":372,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":376,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":379,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":381,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":383,"y":100,"drag":1,"c":"#000000","w":"5"},{"x":384,"y":94,"drag":1,"c":"#000000","w":"5"},{"x":384,"y":88,"drag":1,"c":"#000000","w":"5"},{"x":384,"y":83,"drag":1,"c":"#000000","w":"5"},{"x":383,"y":78,"drag":1,"c":"#000000","w":"5"},{"x":382,"y":74,"drag":1,"c":"#000000","w":"5"},{"x":380,"y":72,"drag":1,"c":"#000000","w":"5"},{"x":378,"y":71,"drag":1,"c":"#000000","w":"5"},{"x":377,"y":71,"drag":1,"c":"#000000","w":"5"},{"x":377,"y":72,"drag":1,"c":"#000000","w":"5"},{"x":377,"y":76,"drag":1,"c":"#000000","w":"5"},{"x":376,"y":81,"drag":1,"c":"#000000","w":"5"},{"x":376,"y":86,"drag":1,"c":"#000000","w":"5"},{"x":375,"y":91,"drag":1,"c":"#000000","w":"5"},{"x":374,"y":97,"drag":1,"c":"#000000","w":"5"},{"x":374,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":373,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":373,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":372,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":371,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":370,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":370,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":370,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":370,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":370,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":372,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":375,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":379,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":384,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":390,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":396,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":402,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":409,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":416,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":422,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":428,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":434,"y":113,"drag":1,"c":"#000000","w":"5"},{"x":438,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":441,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":443,"y":102,"drag":1,"c":"#000000","w":"5"},{"x":444,"y":100,"drag":1,"c":"#000000","w":"5"},{"x":442,"y":100,"drag":1,"c":"#000000","w":"5"},{"x":439,"y":100,"drag":1,"c":"#000000","w":"5"},{"x":435,"y":101,"drag":1,"c":"#000000","w":"5"},{"x":431,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":427,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":422,"y":111,"drag":1,"c":"#000000","w":"5"},{"x":417,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":413,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":409,"y":123,"drag":1,"c":"#000000","w":"5"},{"x":407,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":407,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":406,"y":135,"drag":1,"c":"#000000","w":"5"},{"x":406,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":406,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":408,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":409,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":410,"y":146,"drag":1,"c":"#000000","w":"5"},{"x":411,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":413,"y":148,"drag":1,"c":"#000000","w":"5"},{"x":415,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":417,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":419,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":422,"y":148,"drag":1,"c":"#000000","w":"5"},{"x":425,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":428,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":431,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":433,"y":131,"drag":1,"c":"#000000","w":"5"},{"x":436,"y":125,"drag":1,"c":"#000000","w":"5"},{"x":439,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":442,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":445,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":447,"y":109,"drag":1,"c":"#000000","w":"5"},{"x":448,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":449,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":449,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":448,"y":111,"drag":1,"c":"#000000","w":"5"},{"x":447,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":445,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":444,"y":123,"drag":1,"c":"#000000","w":"5"},{"x":443,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":443,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":443,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":443,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":445,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":448,"y":153,"drag":1,"c":"#000000","w":"5"},{"x":451,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":453,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":456,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":459,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":462,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":463,"y":143,"drag":1,"c":"#000000","w":"5"},{"x":465,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":466,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":467,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":468,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":469,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":470,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":471,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":472,"y":113,"drag":1,"c":"#000000","w":"5"},{"x":474,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":476,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":477,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":478,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":479,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":121,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":125,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":481,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":482,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":483,"y":143,"drag":1,"c":"#000000","w":"5"},{"x":484,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":485,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":486,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":487,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":487,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":487,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":488,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":488,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":489,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":490,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":491,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":493,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":495,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":497,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":499,"y":109,"drag":1,"c":"#000000","w":"5"},{"x":501,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":503,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":504,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":505,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":505,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":505,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":505,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":505,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":505,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":504,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":504,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":503,"y":134,"drag":1,"c":"#000000","w":"5"},{"x":503,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":503,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":503,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":504,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":506,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":509,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":513,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":516,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":520,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":523,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":527,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":529,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":532,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":535,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":539,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":542,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":545,"y":113,"drag":1,"c":"#000000","w":"5"},{"x":548,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":551,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":553,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":555,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":556,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":556,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":556,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":556,"y":111,"drag":1,"c":"#000000","w":"5"},{"x":555,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":554,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":554,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":553,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":553,"y":136,"drag":1,"c":"#000000","w":"5"},{"x":553,"y":143,"drag":1,"c":"#000000","w":"5"},{"x":553,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":555,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":556,"y":158,"drag":1,"c":"#000000","w":"5"},{"x":559,"y":160,"drag":1,"c":"#000000","w":"5"},{"x":562,"y":160,"drag":1,"c":"#000000","w":"5"},{"x":567,"y":160,"drag":1,"c":"#000000","w":"5"},{"x":572,"y":158,"drag":1,"c":"#000000","w":"5"},{"x":578,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":585,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":593,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":601,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":610,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":617,"y":126,"drag":1,"c":"#000000","w":"5"},{"x":623,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":628,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":632,"y":111,"drag":1,"c":"#000000","w":"5"},{"x":635,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":637,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":125,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":131,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":152,"drag":1,"c":"#000000","w":"5"},{"x":638,"y":164,"drag":1,"c":"#000000","w":"5"},{"x":634,"y":178,"drag":1,"c":"#000000","w":"5"},{"x":628,"y":192,"drag":1,"c":"#000000","w":"5"},{"x":620,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":611,"y":218,"drag":1,"c":"#000000","w":"5"},{"x":600,"y":229,"drag":1,"c":"#000000","w":"5"},{"x":587,"y":238,"drag":1,"c":"#000000","w":"5"},{"x":574,"y":245,"drag":1,"c":"#000000","w":"5"},{"x":560,"y":250,"drag":1,"c":"#000000","w":"5"},{"x":545,"y":253,"drag":1,"c":"#000000","w":"5"},{"x":529,"y":254,"drag":1,"c":"#000000","w":"5"},{"x":514,"y":254,"drag":1,"c":"#000000","w":"5"},{"x":500,"y":253,"drag":1,"c":"#000000","w":"5"},{"x":485,"y":249,"drag":1,"c":"#000000","w":"5"},{"x":471,"y":244,"drag":1,"c":"#000000","w":"5"},{"x":459,"y":238,"drag":1,"c":"#000000","w":"5"},{"x":448,"y":231,"drag":1,"c":"#000000","w":"5"},{"x":438,"y":223,"drag":1,"c":"#000000","w":"5"},{"x":431,"y":216,"drag":1,"c":"#000000","w":"5"},{"x":428,"y":208,"drag":1,"c":"#000000","w":"5"},{"x":427,"y":202,"drag":1,"c":"#000000","w":"5"},{"x":428,"y":198,"drag":1,"c":"#000000","w":"5"},{"x":434,"y":194,"drag":1,"c":"#000000","w":"5"},{"x":442,"y":190,"drag":1,"c":"#000000","w":"5"},{"x":452,"y":188,"drag":1,"c":"#000000","w":"5"},{"x":464,"y":186,"drag":1,"c":"#000000","w":"5"},{"x":478,"y":183,"drag":1,"c":"#000000","w":"5"},{"x":494,"y":182,"drag":1,"c":"#000000","w":"5"},{"x":510,"y":179,"drag":1,"c":"#000000","w":"5"},{"x":528,"y":177,"drag":1,"c":"#000000","w":"5"},{"x":545,"y":174,"drag":1,"c":"#000000","w":"5"},{"x":565,"y":170,"drag":1,"c":"#000000","w":"5"},{"x":584,"y":166,"drag":1,"c":"#000000","w":"5"},{"x":604,"y":163,"drag":1,"c":"#000000","w":"5"},{"x":626,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":646,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":668,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":689,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":711,"y":143,"drag":1,"c":"#000000","w":"5"},{"x":730,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":221,"y":77,"drag":0,"c":"#000000","w":"5"},{"x":225,"y":71,"drag":1,"c":"#000000","w":"5"},{"x":225,"y":68,"drag":1,"c":"#000000","w":"5"},{"x":226,"y":66,"drag":1,"c":"#000000","w":"5"},{"x":226,"y":65,"drag":1,"c":"#000000","w":"5"},{"x":228,"y":61,"drag":1,"c":"#000000","w":"5"},{"x":230,"y":58,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":54,"drag":1,"c":"#000000","w":"5"},{"x":236,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":240,"y":51,"drag":1,"c":"#000000","w":"5"},{"x":245,"y":50,"drag":1,"c":"#000000","w":"5"},{"x":249,"y":50,"drag":1,"c":"#000000","w":"5"},{"x":253,"y":50,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":257,"y":56,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":62,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":68,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":74,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":81,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":89,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":97,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":257,"y":111,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":255,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":70,"drag":0,"c":"#000000","w":"5"},{"x":231,"y":69,"drag":1,"c":"#000000","w":"5"},{"x":229,"y":69,"drag":1,"c":"#000000","w":"5"},{"x":227,"y":66,"drag":1,"c":"#000000","w":"5"},{"x":223,"y":63,"drag":1,"c":"#000000","w":"5"},{"x":221,"y":61,"drag":1,"c":"#000000","w":"5"},{"x":219,"y":60,"drag":1,"c":"#000000","w":"5"},{"x":214,"y":56,"drag":1,"c":"#000000","w":"5"},{"x":209,"y":54,"drag":1,"c":"#000000","w":"5"},{"x":205,"y":53,"drag":1,"c":"#000000","w":"5"},{"x":200,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":196,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":193,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":192,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":191,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":191,"y":54,"drag":1,"c":"#000000","w":"5"},{"x":191,"y":55,"drag":1,"c":"#000000","w":"5"},{"x":192,"y":57,"drag":1,"c":"#000000","w":"5"},{"x":194,"y":59,"drag":1,"c":"#000000","w":"5"},{"x":197,"y":62,"drag":1,"c":"#000000","w":"5"},{"x":201,"y":65,"drag":1,"c":"#000000","w":"5"},{"x":207,"y":69,"drag":1,"c":"#000000","w":"5"},{"x":215,"y":74,"drag":1,"c":"#000000","w":"5"},{"x":224,"y":80,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":86,"drag":1,"c":"#000000","w":"5"},{"x":239,"y":93,"drag":1,"c":"#000000","w":"5"},{"x":244,"y":98,"drag":1,"c":"#000000","w":"5"},{"x":248,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":250,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":253,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":259,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":261,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":270,"y":103,"drag":0,"c":"#000000","w":"5"},{"x":278,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":280,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":281,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":282,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":285,"y":103,"drag":1,"c":"#000000","w":"5"},{"x":289,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":293,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":298,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":305,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":314,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":324,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":336,"y":105,"drag":1,"c":"#000000","w":"5"},{"x":349,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":364,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":382,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":403,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":426,"y":102,"drag":1,"c":"#000000","w":"5"},{"x":449,"y":100,"drag":1,"c":"#000000","w":"5"},{"x":473,"y":97,"drag":1,"c":"#000000","w":"5"},{"x":498,"y":94,"drag":1,"c":"#000000","w":"5"},{"x":524,"y":91,"drag":1,"c":"#000000","w":"5"},{"x":553,"y":88,"drag":1,"c":"#000000","w":"5"}];

        // Reset
        ctx.clearRect(0, 0, c.width, c.height);
        ctx.lineCap = 'round';
        ctx.lineJoin = 'round';

        let i = 0;
        // SPEED SETTING: Increase to 3 or 4 for faster writing
        const speed = 2; 

        function loop() {
            if (i >= moves.length) return;

            for (let k = 0; k < speed; k++) {
                if (i >= moves.length) break;
                const p = moves[i];
                
                if (!p.drag) {
                    ctx.beginPath();
                    ctx.moveTo(p.x, p.y);
                    ctx.strokeStyle = p.c;
                    ctx.lineWidth = p.w;
                } else {
                    ctx.strokeStyle = p.c;
                    ctx.lineWidth = p.w;
                    ctx.lineTo(p.x, p.y);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(p.x, p.y);
                }
                i++;
            }
            requestAnimationFrame(loop);
        }
        loop();
    };

    // --- AUTO START (DELETE THIS LINE TO CONTROL MANUALLY) -

        /* ============================================================
           ðŸ“ TEXT ENGINE (Pop & Float)
           ============================================================ */
        function animateText() {
            const lines = ['line1', 'line2', 'line3'];
            let globalDelay = 0; // Tracks time across words

            lines.forEach((lineId, lineIndex) => {
                const element = document.getElementById(lineId);
                const text = element.innerText;
                
                // REVEAL THE LINE (Which was hidden by CSS opacity: 0)
                element.style.opacity = '1';
                
                element.innerHTML = ''; // Clear text to replace with spans

                // Split into letters
                [...text].forEach((char, charIndex) => {
                    const span = document.createElement('span');
                    span.innerText = char;
                    span.className = 'letter';
                    
                    // Handle spaces (they need width)
                    if (char === ' ') span.style.width = '20px';

                    // ANIMATION LOGIC
                    // 1. Stagger letters quickly (0.05s apart)
                    // 2. Stagger words (add extra time per line)
                    const letterDelay = charIndex * 0.1; 
                    const totalDelay = globalDelay + letterDelay;

                    span.style.animation = `popUpFloat 1s cubic-bezier(0.25, 1, 0.5, 1) forwards`;
                    span.style.animationDelay = `${totalDelay}s`;

                    element.appendChild(span);
                });

                // Add delay before next word starts (Overlap effect)
                // We don't wait for the whole word to finish, just enough to look nice
                globalDelay += 0.4;
            });
        }

        /* ============================================================
           â¤ï¸ HEART ENGINE
           ============================================================ */
        function startHeartRain() {
            spawnHeart();
        }

        function spawnHeart() {
            const container = document.getElementById('heart-layer');
            const el = document.createElement('div');
            el.className = 'falling-heart';

            const imgNum = Math.floor(Math.random() * config.totalImages) + 1;
            const color = config.colors2[Math.floor(Math.random() * config.colors2.length)];
            
            el.style.backgroundColor = color;
            el.style.webkitMaskImage = `url('heart${imgNum}.png')`;
            el.style.maskImage = `url('heart${imgNum}.png')`;
            const startX = Math.random() * window.innerWidth;
            const size = random(config.sizeMin, config.sizeMax);
            const duration = random(config.speedMin, config.speedMax);
            const opacity = random(config.opacityMin, config.opacityMax);
            
            const spinDir = Math.random() > 0.5 ? 1 : -1;
            const spinSpeed = random(config.spinSpeedMin, config.spinSpeedMax) * spinDir;
            const wobbleOffset = Math.random() * Math.PI * 2;

            el.style.width = `${size}px`;
            el.style.height = `${size}px`;
            el.style.opacity = opacity;
            el.style.left = `${startX}px`;
            // Spawn further up so they don't pop in
            el.style.top = `-${size + 100}px`;
            container.appendChild(el);

            let startTime = null;
            
            function animate(time) {
                if (!startTime) startTime = time;
                const progress = (time - startTime) / (duration * 1000);
                if (progress > 1) {
                    el.remove();
                    return;
                }

                // --- FIX FOR DISAPPEARING HEARTS ---
                // Previously: window.innerHeight
                // Now: window.innerHeight + 300
                // This ensures they go WAY off screen before deleting
                const currentY = -100 + (progress * (window.innerHeight + 300));

                const slantX = progress * config.slant;
                const wiggle = Math.sin((progress * config.wobbleSpeed * 10) + wobbleOffset) * config.wobbleAmp;
                const currentX = slantX + wiggle;
                const rotation = progress * 360 * spinSpeed;

                el.style.transform = `translate(${currentX}px, ${currentY}px) rotate(${rotation}deg)`;
                requestAnimationFrame(animate);
            }
            requestAnimationFrame(animate);

            const isCluster = Math.random() < config.clusterChance;
            const delay = isCluster 
                ? random(config.spawnFast, config.spawnFast + 150)
                : random(config.spawnSlow, config.spawnSlow + 800);
            setTimeout(spawnHeart, delay);
        }

        function random(min, max) { return Math.random() * (max - min) + min; }

    </script>
</body>
</html>
