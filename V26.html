<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #fce4ec;
            background-image: url('/v26bg.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* --- LAYER 1: ORBITAL HEARTS (Background) --- */
        #heart-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; 
            pointer-events: none;
        }

        .falling-heart {
            position: absolute;
            will-change: transform;
            -webkit-mask-size: contain;
            mask-size: contain;
            -webkit-mask-repeat: no-repeat;
            mask-repeat: no-repeat;
            -webkit-mask-position: center;
            mask-position: center;
        }

        /* --- LAYER 2: TEXT ANIMATION (Left Aligned) --- */
        #text-container {
            position: absolute;
            top: 40%; /* Adjust vertical placement */
            left: 10%; /* Closer to the left side */
            transform: translateY(-50%);
            z-index: 10;
            display: flex;
            flex-direction: column; /* Stacks words vertically */
            align-items: flex-start; /* Aligns starts of words */
        }

        .word-line {
            font-size: 6.5rem; /* Big text */
            font-weight: 800;
            margin: 15px 0px 15px 0px;
            color: #880e4f;
            line-height: 1.1;
            white-space: nowrap; /* Keeps word on one line */
            position: relative;
            opacity: 0; /* START HIDDEN */
        }

        /* The individual letter style */
        .letter {
            display: inline-block;
            opacity: 0; /* Invisible start */
            transform: translateY(40px);
        }

        /* The "Pop, Float, Settle" Animation */
        @keyframes popUpFloat {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.5);
            }
            60% {
                opacity: 1;
                transform: translateY(-15px) scale(1.1); /* The overshoot */
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1); /* Settle */
            }
        }

        /* --- LAYER 3: HANDWRITING (Overlaying "Day") --- */
        #handwriting-layer {
            position: absolute;
            z-index: 20;
            /* Positioning strategy: 
               We put it inside the container via absolute position
               so it sits right on top of the last word.
            */
            top: 65%; /* MOVED UP (was 85%) */
            left: -20px; /* Slight offset to cover the word */
            pointer-events: none;
        }

    </style>
</head>
<body>

    <div id="heart-layer"></div>

    <div id="text-container">
        <div id="line1" class="word-line">Happy</div>
        <div id="line2" class="word-line">Valentine's</div>
        <div id="line3" class="word-line">Day</div>

        <div id="handwriting-layer">
            <div id="signature-container" style="display: inline-block; border: 1px dashed rgba(0,0,0,0.0);">
                <canvas id="hw_mpvg4" width="681" height="362" style="display: block; width: 681px; height: 362px;"></canvas>
            </div>
        </div>
    </div>

    <script>
        /* ============================================================
           â¤ï¸ CONFIGURATION
           ============================================================ */
        const config = {
            // Updated Colors
            colors: ['#e91e63', '#9c27b0', '#f44336', '#ff4081', '#ff5252', '#d500f9', '#c2185b'],
            colors2: ['#fff5c8', '#f9fee0', '#d0ecd5', '#c7528e', '#df879f', '#f19670', '#eebdb7', '#bd3c40', '#2895a4'],
            totalImages: 9, 
            slant: 200, speedMin: 3, speedMax: 8,
            sizeMin: 20, sizeMax: 60,
            opacityMin: 0.3, opacityMax: 0.9,
            wobbleSpeed: 2, wobbleAmp: 30,
            spinSpeedMin: 0.5, spinSpeedMax: 3,
            spawnFast: 50, spawnSlow: 1200, clusterChance: 0.6
        };
        /* ============================================================
           ðŸŽ¬ MASTER DIRECTOR (TIMELINE)
           ============================================================ */
        document.addEventListener("DOMContentLoaded", () => {
            
            // 1. Start Hearts
            startHeartRain();

            // 2. Start Text Animation (Wait 3s)
            setTimeout(() => {
                animateText();
            }, 3000);

            // 3. Start Handwriting 
            // We calculate this based on when "Day" finishes.
            // Text animation takes roughly 2.5 seconds total with staggers.
            // So we start handwriting at 3s (initial delay) + 2.5s (anim) = 5.5s
            // Adjusted slightly for overlap
            setTimeout(() => {
                if (window.playHandwriting) {
                    window.playHandwriting();
                }
            }, 4000); 
        });
        
        // DEFINE THE ANIMATION
        window.playHandwriting = function() {
            const c = document.getElementById('hw_mpvg4');
            if(!c) return;
            const ctx = c.getContext('2d');
            const moves = [{"x":15,"y":227,"drag":0,"c":"#000000","w":"5"},{"x":28,"y":222,"drag":1,"c":"#000000","w":"5"},{"x":30,"y":220,"drag":1,"c":"#000000","w":"5"},{"x":32,"y":218,"drag":1,"c":"#000000","w":"5"},{"x":39,"y":211,"drag":1,"c":"#000000","w":"5"},{"x":45,"y":203,"drag":1,"c":"#000000","w":"5"},{"x":52,"y":193,"drag":1,"c":"#000000","w":"5"},{"x":57,"y":184,"drag":1,"c":"#000000","w":"5"},{"x":60,"y":174,"drag":1,"c":"#000000","w":"5"},{"x":62,"y":166,"drag":1,"c":"#000000","w":"5"},{"x":63,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":65,"y":153,"drag":1,"c":"#000000","w":"5"},{"x":66,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":68,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":68,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":69,"y":165,"drag":1,"c":"#000000","w":"5"},{"x":70,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":73,"y":198,"drag":1,"c":"#000000","w":"5"},{"x":76,"y":218,"drag":1,"c":"#000000","w":"5"},{"x":80,"y":240,"drag":1,"c":"#000000","w":"5"},{"x":84,"y":260,"drag":1,"c":"#000000","w":"5"},{"x":87,"y":277,"drag":1,"c":"#000000","w":"5"},{"x":90,"y":293,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":307,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":318,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":328,"drag":1,"c":"#000000","w":"5"},{"x":92,"y":337,"drag":1,"c":"#000000","w":"5"},{"x":89,"y":343,"drag":1,"c":"#000000","w":"5"},{"x":87,"y":347,"drag":1,"c":"#000000","w":"5"},{"x":85,"y":347,"drag":1,"c":"#000000","w":"5"},{"x":82,"y":347,"drag":1,"c":"#000000","w":"5"},{"x":80,"y":344,"drag":1,"c":"#000000","w":"5"},{"x":78,"y":338,"drag":1,"c":"#000000","w":"5"},{"x":76,"y":329,"drag":1,"c":"#000000","w":"5"},{"x":74,"y":318,"drag":1,"c":"#000000","w":"5"},{"x":71,"y":304,"drag":1,"c":"#000000","w":"5"},{"x":69,"y":287,"drag":1,"c":"#000000","w":"5"},{"x":68,"y":267,"drag":1,"c":"#000000","w":"5"},{"x":67,"y":245,"drag":1,"c":"#000000","w":"5"},{"x":67,"y":225,"drag":1,"c":"#000000","w":"5"},{"x":67,"y":205,"drag":1,"c":"#000000","w":"5"},{"x":70,"y":187,"drag":1,"c":"#000000","w":"5"},{"x":75,"y":171,"drag":1,"c":"#000000","w":"5"},{"x":81,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":89,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":95,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":106,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":111,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":115,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":118,"y":160,"drag":1,"c":"#000000","w":"5"},{"x":121,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":123,"y":187,"drag":1,"c":"#000000","w":"5"},{"x":123,"y":204,"drag":1,"c":"#000000","w":"5"},{"x":123,"y":221,"drag":1,"c":"#000000","w":"5"},{"x":121,"y":237,"drag":1,"c":"#000000","w":"5"},{"x":116,"y":252,"drag":1,"c":"#000000","w":"5"},{"x":110,"y":263,"drag":1,"c":"#000000","w":"5"},{"x":105,"y":271,"drag":1,"c":"#000000","w":"5"},{"x":101,"y":276,"drag":1,"c":"#000000","w":"5"},{"x":98,"y":277,"drag":1,"c":"#000000","w":"5"},{"x":97,"y":277,"drag":1,"c":"#000000","w":"5"},{"x":96,"y":276,"drag":1,"c":"#000000","w":"5"},{"x":96,"y":273,"drag":1,"c":"#000000","w":"5"},{"x":96,"y":267,"drag":1,"c":"#000000","w":"5"},{"x":96,"y":261,"drag":1,"c":"#000000","w":"5"},{"x":99,"y":254,"drag":1,"c":"#000000","w":"5"},{"x":104,"y":247,"drag":1,"c":"#000000","w":"5"},{"x":111,"y":240,"drag":1,"c":"#000000","w":"5"},{"x":122,"y":235,"drag":1,"c":"#000000","w":"5"},{"x":133,"y":231,"drag":1,"c":"#000000","w":"5"},{"x":144,"y":228,"drag":1,"c":"#000000","w":"5"},{"x":152,"y":228,"drag":1,"c":"#000000","w":"5"},{"x":160,"y":228,"drag":1,"c":"#000000","w":"5"},{"x":166,"y":231,"drag":1,"c":"#000000","w":"5"},{"x":169,"y":237,"drag":1,"c":"#000000","w":"5"},{"x":171,"y":244,"drag":1,"c":"#000000","w":"5"},{"x":172,"y":251,"drag":1,"c":"#000000","w":"5"},{"x":172,"y":260,"drag":1,"c":"#000000","w":"5"},{"x":172,"y":269,"drag":1,"c":"#000000","w":"5"},{"x":169,"y":277,"drag":1,"c":"#000000","w":"5"},{"x":163,"y":285,"drag":1,"c":"#000000","w":"5"},{"x":156,"y":292,"drag":1,"c":"#000000","w":"5"},{"x":148,"y":298,"drag":1,"c":"#000000","w":"5"},{"x":139,"y":303,"drag":1,"c":"#000000","w":"5"},{"x":128,"y":308,"drag":1,"c":"#000000","w":"5"},{"x":118,"y":312,"drag":1,"c":"#000000","w":"5"},{"x":109,"y":316,"drag":1,"c":"#000000","w":"5"},{"x":100,"y":317,"drag":1,"c":"#000000","w":"5"},{"x":93,"y":318,"drag":1,"c":"#000000","w":"5"},{"x":87,"y":318,"drag":1,"c":"#000000","w":"5"},{"x":82,"y":318,"drag":1,"c":"#000000","w":"5"},{"x":79,"y":316,"drag":1,"c":"#000000","w":"5"},{"x":78,"y":312,"drag":1,"c":"#000000","w":"5"},{"x":78,"y":308,"drag":1,"c":"#000000","w":"5"},{"x":79,"y":304,"drag":1,"c":"#000000","w":"5"},{"x":83,"y":300,"drag":1,"c":"#000000","w":"5"},{"x":89,"y":298,"drag":1,"c":"#000000","w":"5"},{"x":97,"y":295,"drag":1,"c":"#000000","w":"5"},{"x":106,"y":292,"drag":1,"c":"#000000","w":"5"},{"x":116,"y":290,"drag":1,"c":"#000000","w":"5"},{"x":126,"y":287,"drag":1,"c":"#000000","w":"5"},{"x":135,"y":284,"drag":1,"c":"#000000","w":"5"},{"x":145,"y":281,"drag":1,"c":"#000000","w":"5"},{"x":153,"y":276,"drag":1,"c":"#000000","w":"5"},{"x":160,"y":272,"drag":1,"c":"#000000","w":"5"},{"x":167,"y":266,"drag":1,"c":"#000000","w":"5"},{"x":173,"y":259,"drag":1,"c":"#000000","w":"5"},{"x":178,"y":251,"drag":1,"c":"#000000","w":"5"},{"x":181,"y":243,"drag":1,"c":"#000000","w":"5"},{"x":183,"y":236,"drag":1,"c":"#000000","w":"5"},{"x":184,"y":229,"drag":1,"c":"#000000","w":"5"},{"x":185,"y":222,"drag":1,"c":"#000000","w":"5"},{"x":185,"y":218,"drag":1,"c":"#000000","w":"5"},{"x":183,"y":215,"drag":1,"c":"#000000","w":"5"},{"x":180,"y":212,"drag":1,"c":"#000000","w":"5"},{"x":176,"y":210,"drag":1,"c":"#000000","w":"5"},{"x":174,"y":208,"drag":1,"c":"#000000","w":"5"},{"x":171,"y":207,"drag":1,"c":"#000000","w":"5"},{"x":168,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":166,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":165,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":166,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":167,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":170,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":173,"y":205,"drag":1,"c":"#000000","w":"5"},{"x":176,"y":202,"drag":1,"c":"#000000","w":"5"},{"x":180,"y":200,"drag":1,"c":"#000000","w":"5"},{"x":182,"y":198,"drag":1,"c":"#000000","w":"5"},{"x":184,"y":197,"drag":1,"c":"#000000","w":"5"},{"x":185,"y":196,"drag":1,"c":"#000000","w":"5"},{"x":185,"y":198,"drag":1,"c":"#000000","w":"5"},{"x":185,"y":200,"drag":1,"c":"#000000","w":"5"},{"x":185,"y":203,"drag":1,"c":"#000000","w":"5"},{"x":186,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":188,"y":210,"drag":1,"c":"#000000","w":"5"},{"x":192,"y":215,"drag":1,"c":"#000000","w":"5"},{"x":196,"y":220,"drag":1,"c":"#000000","w":"5"},{"x":201,"y":225,"drag":1,"c":"#000000","w":"5"},{"x":206,"y":230,"drag":1,"c":"#000000","w":"5"},{"x":210,"y":232,"drag":1,"c":"#000000","w":"5"},{"x":214,"y":233,"drag":1,"c":"#000000","w":"5"},{"x":217,"y":233,"drag":1,"c":"#000000","w":"5"},{"x":220,"y":233,"drag":1,"c":"#000000","w":"5"},{"x":222,"y":229,"drag":1,"c":"#000000","w":"5"},{"x":225,"y":224,"drag":1,"c":"#000000","w":"5"},{"x":228,"y":219,"drag":1,"c":"#000000","w":"5"},{"x":230,"y":213,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":207,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":202,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":199,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":198,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":201,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":210,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":214,"drag":1,"c":"#000000","w":"5"},{"x":235,"y":218,"drag":1,"c":"#000000","w":"5"},{"x":238,"y":221,"drag":1,"c":"#000000","w":"5"},{"x":241,"y":223,"drag":1,"c":"#000000","w":"5"},{"x":246,"y":225,"drag":1,"c":"#000000","w":"5"},{"x":250,"y":225,"drag":1,"c":"#000000","w":"5"},{"x":254,"y":225,"drag":1,"c":"#000000","w":"5"},{"x":258,"y":224,"drag":1,"c":"#000000","w":"5"},{"x":261,"y":220,"drag":1,"c":"#000000","w":"5"},{"x":262,"y":214,"drag":1,"c":"#000000","w":"5"},{"x":263,"y":206,"drag":1,"c":"#000000","w":"5"},{"x":263,"y":197,"drag":1,"c":"#000000","w":"5"},{"x":263,"y":188,"drag":1,"c":"#000000","w":"5"},{"x":261,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":259,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":165,"drag":1,"c":"#000000","w":"5"},{"x":253,"y":160,"drag":1,"c":"#000000","w":"5"},{"x":250,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":246,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":241,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":238,"y":144,"drag":1,"c":"#000000","w":"5"},{"x":234,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":231,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":231,"y":146,"drag":1,"c":"#000000","w":"5"},{"x":231,"y":150,"drag":1,"c":"#000000","w":"5"},{"x":233,"y":156,"drag":1,"c":"#000000","w":"5"},{"x":237,"y":161,"drag":1,"c":"#000000","w":"5"},{"x":242,"y":167,"drag":1,"c":"#000000","w":"5"},{"x":248,"y":174,"drag":1,"c":"#000000","w":"5"},{"x":256,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":264,"y":185,"drag":1,"c":"#000000","w":"5"},{"x":272,"y":188,"drag":1,"c":"#000000","w":"5"},{"x":280,"y":191,"drag":1,"c":"#000000","w":"5"},{"x":285,"y":191,"drag":1,"c":"#000000","w":"5"},{"x":289,"y":191,"drag":1,"c":"#000000","w":"5"},{"x":293,"y":191,"drag":1,"c":"#000000","w":"5"},{"x":295,"y":191,"drag":1,"c":"#000000","w":"5"},{"x":297,"y":186,"drag":1,"c":"#000000","w":"5"},{"x":297,"y":179,"drag":1,"c":"#000000","w":"5"},{"x":297,"y":171,"drag":1,"c":"#000000","w":"5"},{"x":296,"y":162,"drag":1,"c":"#000000","w":"5"},{"x":292,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":287,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":283,"y":126,"drag":1,"c":"#000000","w":"5"},{"x":280,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":278,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":276,"y":99,"drag":1,"c":"#000000","w":"5"},{"x":276,"y":94,"drag":1,"c":"#000000","w":"5"},{"x":276,"y":93,"drag":1,"c":"#000000","w":"5"},{"x":278,"y":94,"drag":1,"c":"#000000","w":"5"},{"x":280,"y":99,"drag":1,"c":"#000000","w":"5"},{"x":283,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":286,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":290,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":296,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":301,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":305,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":309,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":311,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":312,"y":174,"drag":1,"c":"#000000","w":"5"},{"x":314,"y":179,"drag":1,"c":"#000000","w":"5"},{"x":315,"y":181,"drag":1,"c":"#000000","w":"5"},{"x":316,"y":181,"drag":1,"c":"#000000","w":"5"},{"x":318,"y":179,"drag":1,"c":"#000000","w":"5"},{"x":320,"y":173,"drag":1,"c":"#000000","w":"5"},{"x":322,"y":166,"drag":1,"c":"#000000","w":"5"},{"x":325,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":327,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":330,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":332,"y":131,"drag":1,"c":"#000000","w":"5"},{"x":334,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":123,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":134,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":143,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":156,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":163,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":169,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":175,"drag":1,"c":"#000000","w":"5"},{"x":335,"y":179,"drag":1,"c":"#000000","w":"5"},{"x":336,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":338,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":340,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":343,"y":177,"drag":1,"c":"#000000","w":"5"},{"x":347,"y":173,"drag":1,"c":"#000000","w":"5"},{"x":351,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":355,"y":163,"drag":1,"c":"#000000","w":"5"},{"x":358,"y":157,"drag":1,"c":"#000000","w":"5"},{"x":361,"y":149,"drag":1,"c":"#000000","w":"5"},{"x":362,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":362,"y":134,"drag":1,"c":"#000000","w":"5"},{"x":362,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":362,"y":123,"drag":1,"c":"#000000","w":"5"},{"x":361,"y":118,"drag":1,"c":"#000000","w":"5"},{"x":360,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":359,"y":115,"drag":1,"c":"#000000","w":"5"},{"x":359,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":359,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":361,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":364,"y":124,"drag":1,"c":"#000000","w":"5"},{"x":367,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":370,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":375,"y":135,"drag":1,"c":"#000000","w":"5"},{"x":379,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":383,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":386,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":388,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":390,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":391,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":392,"y":138,"drag":1,"c":"#000000","w":"5"},{"x":393,"y":134,"drag":1,"c":"#000000","w":"5"},{"x":393,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":393,"y":122,"drag":1,"c":"#000000","w":"5"},{"x":393,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":393,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":392,"y":99,"drag":1,"c":"#000000","w":"5"},{"x":392,"y":93,"drag":1,"c":"#000000","w":"5"},{"x":392,"y":88,"drag":1,"c":"#000000","w":"5"},{"x":392,"y":85,"drag":1,"c":"#000000","w":"5"},{"x":393,"y":84,"drag":1,"c":"#000000","w":"5"},{"x":395,"y":84,"drag":1,"c":"#000000","w":"5"},{"x":398,"y":86,"drag":1,"c":"#000000","w":"5"},{"x":400,"y":90,"drag":1,"c":"#000000","w":"5"},{"x":403,"y":95,"drag":1,"c":"#000000","w":"5"},{"x":407,"y":99,"drag":1,"c":"#000000","w":"5"},{"x":410,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":414,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":416,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":417,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":418,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":417,"y":109,"drag":1,"c":"#000000","w":"5"},{"x":416,"y":106,"drag":1,"c":"#000000","w":"5"},{"x":415,"y":101,"drag":1,"c":"#000000","w":"5"},{"x":414,"y":96,"drag":1,"c":"#000000","w":"5"},{"x":413,"y":90,"drag":1,"c":"#000000","w":"5"},{"x":412,"y":84,"drag":1,"c":"#000000","w":"5"},{"x":412,"y":80,"drag":1,"c":"#000000","w":"5"},{"x":412,"y":76,"drag":1,"c":"#000000","w":"5"},{"x":415,"y":76,"drag":1,"c":"#000000","w":"5"},{"x":418,"y":76,"drag":1,"c":"#000000","w":"5"},{"x":422,"y":78,"drag":1,"c":"#000000","w":"5"},{"x":427,"y":84,"drag":1,"c":"#000000","w":"5"},{"x":434,"y":90,"drag":1,"c":"#000000","w":"5"},{"x":441,"y":97,"drag":1,"c":"#000000","w":"5"},{"x":449,"y":104,"drag":1,"c":"#000000","w":"5"},{"x":456,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":462,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":467,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":471,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":473,"y":117,"drag":1,"c":"#000000","w":"5"},{"x":475,"y":116,"drag":1,"c":"#000000","w":"5"},{"x":477,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":479,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":102,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":96,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":89,"drag":1,"c":"#000000","w":"5"},{"x":480,"y":82,"drag":1,"c":"#000000","w":"5"},{"x":478,"y":76,"drag":1,"c":"#000000","w":"5"},{"x":477,"y":70,"drag":1,"c":"#000000","w":"5"},{"x":476,"y":64,"drag":1,"c":"#000000","w":"5"},{"x":475,"y":59,"drag":1,"c":"#000000","w":"5"},{"x":475,"y":56,"drag":1,"c":"#000000","w":"5"},{"x":475,"y":55,"drag":1,"c":"#000000","w":"5"},{"x":476,"y":53,"drag":1,"c":"#000000","w":"5"},{"x":479,"y":53,"drag":1,"c":"#000000","w":"5"},{"x":484,"y":53,"drag":1,"c":"#000000","w":"5"},{"x":490,"y":53,"drag":1,"c":"#000000","w":"5"},{"x":497,"y":54,"drag":1,"c":"#000000","w":"5"},{"x":506,"y":56,"drag":1,"c":"#000000","w":"5"},{"x":516,"y":58,"drag":1,"c":"#000000","w":"5"},{"x":528,"y":59,"drag":1,"c":"#000000","w":"5"},{"x":538,"y":61,"drag":1,"c":"#000000","w":"5"},{"x":548,"y":61,"drag":1,"c":"#000000","w":"5"},{"x":555,"y":61,"drag":1,"c":"#000000","w":"5"},{"x":561,"y":59,"drag":1,"c":"#000000","w":"5"},{"x":564,"y":55,"drag":1,"c":"#000000","w":"5"},{"x":567,"y":50,"drag":1,"c":"#000000","w":"5"},{"x":567,"y":44,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":37,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":32,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":29,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":27,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":29,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":35,"drag":1,"c":"#000000","w":"5"},{"x":568,"y":42,"drag":1,"c":"#000000","w":"5"},{"x":571,"y":52,"drag":1,"c":"#000000","w":"5"},{"x":576,"y":64,"drag":1,"c":"#000000","w":"5"},{"x":581,"y":79,"drag":1,"c":"#000000","w":"5"},{"x":584,"y":94,"drag":1,"c":"#000000","w":"5"},{"x":586,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":586,"y":127,"drag":1,"c":"#000000","w":"5"},{"x":586,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":581,"y":159,"drag":1,"c":"#000000","w":"5"},{"x":573,"y":173,"drag":1,"c":"#000000","w":"5"},{"x":563,"y":187,"drag":1,"c":"#000000","w":"5"},{"x":552,"y":199,"drag":1,"c":"#000000","w":"5"},{"x":538,"y":209,"drag":1,"c":"#000000","w":"5"},{"x":523,"y":218,"drag":1,"c":"#000000","w":"5"},{"x":508,"y":224,"drag":1,"c":"#000000","w":"5"},{"x":493,"y":227,"drag":1,"c":"#000000","w":"5"},{"x":478,"y":229,"drag":1,"c":"#000000","w":"5"},{"x":466,"y":229,"drag":1,"c":"#000000","w":"5"},{"x":456,"y":227,"drag":1,"c":"#000000","w":"5"},{"x":449,"y":222,"drag":1,"c":"#000000","w":"5"},{"x":445,"y":214,"drag":1,"c":"#000000","w":"5"},{"x":445,"y":204,"drag":1,"c":"#000000","w":"5"},{"x":445,"y":193,"drag":1,"c":"#000000","w":"5"},{"x":447,"y":180,"drag":1,"c":"#000000","w":"5"},{"x":454,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":464,"y":155,"drag":1,"c":"#000000","w":"5"},{"x":475,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":491,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":509,"y":113,"drag":1,"c":"#000000","w":"5"},{"x":528,"y":101,"drag":1,"c":"#000000","w":"5"},{"x":550,"y":87,"drag":1,"c":"#000000","w":"5"},{"x":573,"y":74,"drag":1,"c":"#000000","w":"5"},{"x":596,"y":59,"drag":1,"c":"#000000","w":"5"},{"x":620,"y":45,"drag":1,"c":"#000000","w":"5"},{"x":644,"y":30,"drag":1,"c":"#000000","w":"5"},{"x":666,"y":15,"drag":1,"c":"#000000","w":"5"},{"x":176,"y":145,"drag":0,"c":"#000000","w":"5"},{"x":179,"y":131,"drag":1,"c":"#000000","w":"5"},{"x":179,"y":128,"drag":1,"c":"#000000","w":"5"},{"x":179,"y":125,"drag":1,"c":"#000000","w":"5"},{"x":180,"y":119,"drag":1,"c":"#000000","w":"5"},{"x":183,"y":114,"drag":1,"c":"#000000","w":"5"},{"x":186,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":188,"y":108,"drag":1,"c":"#000000","w":"5"},{"x":191,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":195,"y":107,"drag":1,"c":"#000000","w":"5"},{"x":197,"y":112,"drag":1,"c":"#000000","w":"5"},{"x":199,"y":120,"drag":1,"c":"#000000","w":"5"},{"x":200,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":201,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":201,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":201,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":201,"y":181,"drag":1,"c":"#000000","w":"5"},{"x":200,"y":193,"drag":1,"c":"#000000","w":"5"},{"x":199,"y":134,"drag":0,"c":"#000000","w":"5"},{"x":198,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":196,"y":129,"drag":1,"c":"#000000","w":"5"},{"x":193,"y":130,"drag":1,"c":"#000000","w":"5"},{"x":189,"y":132,"drag":1,"c":"#000000","w":"5"},{"x":187,"y":134,"drag":1,"c":"#000000","w":"5"},{"x":184,"y":135,"drag":1,"c":"#000000","w":"5"},{"x":180,"y":137,"drag":1,"c":"#000000","w":"5"},{"x":175,"y":139,"drag":1,"c":"#000000","w":"5"},{"x":171,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":166,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":162,"y":140,"drag":1,"c":"#000000","w":"5"},{"x":157,"y":141,"drag":1,"c":"#000000","w":"5"},{"x":154,"y":142,"drag":1,"c":"#000000","w":"5"},{"x":151,"y":145,"drag":1,"c":"#000000","w":"5"},{"x":151,"y":147,"drag":1,"c":"#000000","w":"5"},{"x":151,"y":151,"drag":1,"c":"#000000","w":"5"},{"x":151,"y":154,"drag":1,"c":"#000000","w":"5"},{"x":155,"y":157,"drag":1,"c":"#000000","w":"5"},{"x":160,"y":160,"drag":1,"c":"#000000","w":"5"},{"x":167,"y":162,"drag":1,"c":"#000000","w":"5"},{"x":173,"y":164,"drag":1,"c":"#000000","w":"5"},{"x":179,"y":166,"drag":1,"c":"#000000","w":"5"},{"x":184,"y":169,"drag":1,"c":"#000000","w":"5"},{"x":188,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":191,"y":178,"drag":1,"c":"#000000","w":"5"},{"x":192,"y":185,"drag":1,"c":"#000000","w":"5"},{"x":236,"y":177,"drag":0,"c":"#000000","w":"5"},{"x":227,"y":178,"drag":1,"c":"#000000","w":"5"},{"x":227,"y":177,"drag":1,"c":"#000000","w":"5"},{"x":228,"y":175,"drag":1,"c":"#000000","w":"5"},{"x":230,"y":174,"drag":1,"c":"#000000","w":"5"},{"x":232,"y":172,"drag":1,"c":"#000000","w":"5"},{"x":238,"y":168,"drag":1,"c":"#000000","w":"5"},{"x":247,"y":162,"drag":1,"c":"#000000","w":"5"},{"x":259,"y":153,"drag":1,"c":"#000000","w":"5"},{"x":274,"y":143,"drag":1,"c":"#000000","w":"5"},{"x":288,"y":133,"drag":1,"c":"#000000","w":"5"},{"x":304,"y":123,"drag":1,"c":"#000000","w":"5"},{"x":322,"y":110,"drag":1,"c":"#000000","w":"5"},{"x":339,"y":98,"drag":1,"c":"#000000","w":"5"},{"x":358,"y":84,"drag":1,"c":"#000000","w":"5"},{"x":377,"y":69,"drag":1,"c":"#000000","w":"5"},{"x":396,"y":55,"drag":1,"c":"#000000","w":"5"},{"x":408,"y":47,"drag":1,"c":"#000000","w":"5"}];
            // Reset
            ctx.clearRect(0, 0, c.width, c.height);
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            let i = 0;
            // SPEED SETTING: Increase to 3 or 4 for faster writing
            const speed = 2;
            function loop() {
                if (i >= moves.length) return;
                for (let k = 0; k < speed; k++) {
                    if (i >= moves.length) break;
                    const p = moves[i];
                    
                    if (!p.drag) {
                        ctx.beginPath();
                        ctx.moveTo(p.x, p.y);
                        ctx.strokeStyle = p.c;
                        ctx.lineWidth = p.w;
                    } else {
                        ctx.strokeStyle = p.c;
                        ctx.lineWidth = p.w;
                        ctx.lineTo(p.x, p.y);
                        ctx.stroke();
                        ctx.beginPath();
                        ctx.moveTo(p.x, p.y);
                    }
                    i++;
                }
                requestAnimationFrame(loop);
            }
            loop();
        };

        /* ============================================================
           ðŸ“ TEXT ENGINE (Pop & Float)
           ============================================================ */
        function animateText() {
            const lines = ['line1', 'line2', 'line3'];
            let globalDelay = 0; // Tracks time across words

            lines.forEach((lineId, lineIndex) => {
                const element = document.getElementById(lineId);
                const text = element.innerText;
                
                // REVEAL THE LINE (Which was hidden by CSS opacity: 0)
                element.style.opacity = '1';
                
                element.innerHTML = ''; // Clear text to replace with spans

                // Split into letters
                [...text].forEach((char, charIndex) => {
                    const span = document.createElement('span');
                    span.innerText = char;
                    span.className = 'letter';
                    
                    // Handle spaces (they need width)
                    if (char === ' ') span.style.width = '20px';

                    // ANIMATION LOGIC
                    // 1. Stagger letters quickly (0.05s apart)
                    // 2. Stagger words (add extra time per line)
                    const letterDelay = charIndex * 0.1; 
                    const totalDelay = globalDelay + letterDelay;

                    span.style.animation = `popUpFloat 1s cubic-bezier(0.25, 1, 0.5, 1) forwards`;
                    span.style.animationDelay = `${totalDelay}s`;

                    element.appendChild(span);
                });

                // Add delay before next word starts (Overlap effect)
                // We don't wait for the whole word to finish, just enough to look nice
                globalDelay += 0.4;
            });
        }

        /* ============================================================
           â¤ï¸ HEART ENGINE
           ============================================================ */
        function startHeartRain() {
            spawnHeart();
        }

        function spawnHeart() {
            const container = document.getElementById('heart-layer');
            const el = document.createElement('div');
            el.className = 'falling-heart';

            const imgNum = Math.floor(Math.random() * config.totalImages) + 1;
            const color = config.colors2[Math.floor(Math.random() * config.colors2.length)];
            
            el.style.backgroundColor = color;
            el.style.webkitMaskImage = `url('heart${imgNum}.png')`;
            el.style.maskImage = `url('heart${imgNum}.png')`;
            const startX = Math.random() * window.innerWidth;
            const size = random(config.sizeMin, config.sizeMax);
            const duration = random(config.speedMin, config.speedMax);
            const opacity = random(config.opacityMin, config.opacityMax);
            
            const spinDir = Math.random() > 0.5 ? 1 : -1;
            const spinSpeed = random(config.spinSpeedMin, config.spinSpeedMax) * spinDir;
            const wobbleOffset = Math.random() * Math.PI * 2;

            el.style.width = `${size}px`;
            el.style.height = `${size}px`;
            el.style.opacity = opacity;
            el.style.left = `${startX}px`;
            // Spawn further up so they don't pop in
            el.style.top = `-${size + 100}px`;
            container.appendChild(el);

            let startTime = null;
            
            function animate(time) {
                if (!startTime) startTime = time;
                const progress = (time - startTime) / (duration * 1000);
                if (progress > 1) {
                    el.remove();
                    return;
                }

                // --- FIX FOR DISAPPEARING HEARTS ---
                // Previously: window.innerHeight
                // Now: window.innerHeight + 300
                // This ensures they go WAY off screen before deleting
                const currentY = -100 + (progress * (window.innerHeight + 300));

                const slantX = progress * config.slant;
                const wiggle = Math.sin((progress * config.wobbleSpeed * 10) + wobbleOffset) * config.wobbleAmp;
                const currentX = slantX + wiggle;
                const rotation = progress * 360 * spinSpeed;

                el.style.transform = `translate(${currentX}px, ${currentY}px) rotate(${rotation}deg)`;
                requestAnimationFrame(animate);
            }
            requestAnimationFrame(animate);

            const isCluster = Math.random() < config.clusterChance;
            const delay = isCluster 
                ? random(config.spawnFast, config.spawnFast + 150)
                : random(config.spawnSlow, config.spawnSlow + 800);
            setTimeout(spawnHeart, delay);
        }

        function random(min, max) { return Math.random() * (max - min) + min; }

    </script>
</body>
</html>
