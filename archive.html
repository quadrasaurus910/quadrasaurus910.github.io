<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<title>JRPG Master Engine v1.0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{background:#0b0f1a;color:#eaeaea;font-family:monospace;margin:0}
h1{padding:8px;color:#7aa2ff}
.container{display:grid;grid-template-columns:260px 260px 1fr 300px;gap:8px;padding:8px}
.panel{border:2px solid #3a5cff;padding:8px}
select,button,input,textarea{width:100%;margin-top:4px;background:#111;color:#fff;border:1px solid #555}
.stat{display:flex;justify-content:space-between}
.small{font-size:11px;color:#aaa}
textarea{height:120px}
</style>
</head>
<body>
<h1>JRPG Master Engine (Final Fantasy + Chrono)</h1>
<div class="small" style="padding-left:8px">Offline • Save/Load • Full Edit Mode • Jobs • Materia • Espers • Techs</div><div class="container"><div class="panel">
<h3>Character</h3>
<select id="charSel"></select>
<div id="charInfo"></div>
<button onclick="saveGame()">Save</button>
<button onclick="loadGame()">Load</button>
</div><div class="panel">
<h3>Equip</h3>
<select id="equipSel"></select>
<button onclick="equipItem()">Equip</button>
<button onclick="unequipItem()">Unequip</button>
</div><div class="panel">
<h3>Stats</h3>
<div id="stats"></div>
<h3>Abilities</h3>
<div id="abilities"></div>
</div><div class="panel">
<h3>Editor (Live)</h3>
<textarea id="editor"></textarea>
<button onclick="applyEdit()">Apply Edit</button>
<div class="small">Edit DB JSON directly</div>
</div></div><script>
/***********************
 MASTER DATABASE
***********************/
let DB={
characters:{
 cloud:{name:"Cloud",game:"FF7",job:"SOLDIER",base:{hp:1200,mp:300,str:18,mag:14,def:12,spd:12},equip:{weapon:null,armor:null,accessory:null},materia:[],espers:[]},
 terra:{name:"Terra",game:"FF6",job:"Mage",base:{hp:950,mp:420,str:10,mag:20,def:11,spd:13},equip:{weapon:null,armor:null,accessory:null},espers:[]},
 crono:{name:"Crono",game:"Chrono Trigger",job:"Swordsman",base:{hp:900,mp:120,str:16,mag:10,def:12,spd:15},equip:{weapon:null,armor:null,accessory:null},techs:["Cyclone","Lightning"]}
},

jobs:{
 Fighter:{bonus:{str:3,def:2}},
 Knight:{bonus:{str:4,def:3}},
 Thief:{bonus:{spd:4}},
 Mage:{bonus:{mag:4,mp:50}},
 SOLDIER:{bonus:{str:2,mag:2}},
 Swordsman:{bonus:{str:3,spd:1}}
},

equipment:{
 buster:{name:"Buster Sword",slot:"weapon",stats:{str:5}},
 mythril:{name:"Mythril Sword",slot:"weapon",stats:{str:3,spd:1}},
 bronze:{name:"Bronze Armor",slot:"armor",stats:{hp:200,def:2}},
 powerRing:{name:"Power Ring",slot:"accessory",stats:{str:2}}
},

materia:{
 fire:{name:"Fire",stats:{mag:2},ability:"Fire"},
 ice:{name:"Ice",stats:{mag:2},ability:"Ice"},
 cure:{name:"Cure",stats:{},ability:"Heal"}
},

espers:{
 ifrit:{name:"Ifrit",stats:{str:3},summon:"Fire"},
 shiva:{name:"Shiva",stats:{mag:3},summon:"Ice"}
},

techs:{
 Cyclone:{power:8,element:"wind"},
 Lightning:{power:10,element:"lightning"}
}
};

/***********************
 UI INIT
***********************/
const charSel=document.getElementById('charSel');
const equipSel=document.getElementById('equipSel');
const statsDiv=document.getElementById('stats');
const abilDiv=document.getElementById('abilities');
const infoDiv=document.getElementById('charInfo');
const editor=document.getElementById('editor');

function init(){
 charSel.innerHTML='';equipSel.innerHTML='';
 Object.keys(DB.characters).forEach(id=>{let o=document.createElement('option');o.value=id;o.textContent=DB.characters[id].name;charSel.appendChild(o)});
 Object.keys(DB.equipment).forEach(id=>{let o=document.createElement('option');o.value=id;o.textContent=DB.equipment[id].name;equipSel.appendChild(o)});
 editor.value=JSON.stringify(DB,null,2);
 render();
}

charSel.onchange=render;

function equipItem(){const c=DB.characters[charSel.value];const e=DB.equipment[equipSel.value];c.equip[e.slot]=e;render();}
function unequipItem(){const c=DB.characters[charSel.value];const e=DB.equipment[equipSel.value];c.equip[e.slot]=null;render();}

function render(){
 const c=DB.characters[charSel.value];
 infoDiv.innerHTML=`<b>${c.name}</b><br>${c.game}<br>Job: ${c.job}`;
 let final={...c.base};
 if(DB.jobs[c.job]) for(const s in DB.jobs[c.job].bonus) final[s]=(final[s]||0)+DB.jobs[c.job].bonus[s];
 Object.values(c.equip).forEach(eq=>{if(eq)for(const s in eq.stats)final[s]+=eq.stats[s]});
 statsDiv.innerHTML='';
 for(const s in final) statsDiv.innerHTML+=`<div class='stat'><span>${s}</span><span>${final[s]}</span></div>`;
 abilDiv.innerHTML='';
 if(c.techs) abilDiv.innerHTML+=`Techs: ${c.techs.join(', ')}<br>`;
 if(c.materia) abilDiv.innerHTML+=`Materia: ${c.materia.map(m=>m.name).join(', ')}<br>`;
 if(c.espers) abilDiv.innerHTML+=`Espers: ${c.espers.map(e=>e.name).join(', ')}<br>`;
}

/***********************
 SAVE / LOAD
***********************/
function saveGame(){localStorage.setItem('JRPG_DB',JSON.stringify(DB));alert('Saved');}
function loadGame(){const d=localStorage.getItem('JRPG_DB');if(d){DB=JSON.parse(d);init();alert('Loaded');}}

/***********************
 EDITOR
***********************/
function applyEdit(){try{DB=JSON.parse(editor.value);init();}catch(e){alert('Invalid JSON');}}

init();
</script></body>
</html>
